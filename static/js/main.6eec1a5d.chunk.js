(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{120:function(t,e,n){},125:function(t,e,n){"use strict";n.r(e);var r,c=n(0),a=n.n(c),o=n(18),u=n.n(o),s=n(8),i=n(7),b=n(3),j=n(4),l=n(20),d=i.a.registerRequest,O=i.a.registerSuccess,f=i.a.registerError,h=i.a.logoutRequest,g=i.a.logoutSuccess,p=i.a.logoutError,x=i.a.loginRequest,C=i.a.loginSuccess,v=i.a.loginError,m=i.a.getCurrentUserRequest,S=i.a.getCurrentUserSuccess,k=i.a.getCurrentUserError,E=l.a.fetchContactsRequest,y=l.a.fetchContactsSuccess,R=l.a.fetchContactsError,q=l.a.addContactRequest,_=l.a.addContactSuccess,w=l.a.addContactError,N=l.a.deleteContactRequest,U=l.a.deleteContactSuccess,L=l.a.deleteContactError,A=Object(j.c)(!1,(r={},Object(b.a)(r,d,(function(){return!0})),Object(b.a)(r,O,(function(){return!1})),Object(b.a)(r,f,(function(){return!1})),Object(b.a)(r,h,(function(){return!0})),Object(b.a)(r,g,(function(){return!1})),Object(b.a)(r,p,(function(){return!1})),Object(b.a)(r,x,(function(){return!0})),Object(b.a)(r,C,(function(){return!1})),Object(b.a)(r,v,(function(){return!1})),Object(b.a)(r,m,(function(){return!0})),Object(b.a)(r,S,(function(){return!1})),Object(b.a)(r,k,(function(){return!1})),Object(b.a)(r,E,(function(){return!0})),Object(b.a)(r,y,(function(){return!1})),Object(b.a)(r,R,(function(){return!1})),Object(b.a)(r,q,(function(){return!0})),Object(b.a)(r,_,(function(){return!1})),Object(b.a)(r,w,(function(){return!1})),Object(b.a)(r,N,(function(){return!0})),Object(b.a)(r,U,(function(){return!1})),Object(b.a)(r,L,(function(){return!1})),r)),F={getIsLoading:function(t){return t.loading}},I=n(14),T={register:"/register",login:"/login",contacts:"/contacts"},M=n(33),z=n(28),P=n(29),B=n(54),W=n.n(B),J=n(2),K=function(t){return Object(J.jsx)(P.b,Object(z.a)({className:W.a.navLink,activeClassName:W.a.activeNavLink},t))},Q=n(72),Z=n.n(Q),D=n(145),G=n(150),H=Object(G.a)(D.a)({padding:"0"});function V(){var t=Object(I.d)(i.d.getIsAuthenticated);return Object(J.jsx)("nav",{children:t&&Object(J.jsx)(H,{className:Z.a.btn,children:Object(J.jsx)(K,{to:"/contacts",exact:!0,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"})})})}var X=a.a.memo(V),Y=n(73),$=n.n(Y),tt=Object(G.a)(D.a)({padding:"0"}),et=function(){return Object(J.jsxs)("div",{className:$.a.authNav,children:[Object(J.jsx)(tt,{children:Object(J.jsx)(K,{to:"/register",exact:!0,children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"})}),Object(J.jsx)(tt,{children:Object(J.jsx)(K,{to:"/login",exact:!0,children:"\u0412\u0445\u0456\u0434"})})]})},nt=n.p+"static/media/avatar.e7012cd6.png",rt=n(47),ct=n.n(rt),at=n(152);function ot(){var t=Object(I.c)(),e=Object(I.d)(i.d.getUserName),n=nt,r=Object(G.a)(at.a)({width:"32px",height:"32px",marginRight:"10px"});return Object(J.jsxs)("div",{className:ct.a.userMenu,children:[Object(J.jsx)(r,{className:ct.a.avatar,src:n,alt:"",width:"32"}),Object(J.jsxs)("span",{className:ct.a.name,children:["Welcome, ",e]}),Object(J.jsx)(D.a,{type:"button",onClick:function(){return t(i.b.logout())},children:"Logout"})]})}var ut=n(148),st=n(147);function it(){var t=Object(G.a)(st.a)({justifyContent:"space-between",backgroundColor:"green"}),e=Object(I.d)(i.d.getIsAuthenticated);return Object(J.jsx)(ut.a,{children:Object(J.jsxs)(t,{children:[Object(J.jsx)(X,{}),e?Object(J.jsx)(ot,{}):Object(J.jsx)(et,{})]})})}var bt=n(46);function jt(t){var e=t.redirectTo,n=t.children,r=Object(bt.a)(t,["redirectTo","children"]),c=Object(I.d)(i.d.getIsAuthenticated);return Object(J.jsx)(s.b,Object(z.a)(Object(z.a)({},r),{},{children:c?n:Object(J.jsx)(s.a,{to:e})}))}function lt(t){var e=t.redirectTo,n=t.children,r=Object(bt.a)(t,["redirectTo","children"]),c=Object(I.d)(i.d.getIsAuthenticated);return Object(J.jsx)(s.b,Object(z.a)(Object(z.a)({},r),{},{children:c&&r.restricted?Object(J.jsx)(s.a,{to:e}):n}))}var dt,Ot=n(74),ft=n.n(Ot),ht=function(t){var e=t.children;return Object(J.jsx)("div",{className:ft.a.container,children:e})},gt=n(75),pt=n(76),xt=n.n(pt),Ct=document.querySelector("#modal-root"),vt=function(t){var e=t.children;return Object(o.createPortal)(Object(J.jsx)("div",{className:xt.a.Overlay,children:Object(J.jsx)("div",{children:e})}),Ct)},mt=n(77),St=n.n(mt),kt=n(52),Et=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(vt,{children:Object(J.jsx)(St.a,{css:Object(kt.css)(dt||(dt=Object(gt.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  "]))),size:20,color:"olive"})})})},yt=(n(119),Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(4)]).then(n.bind(null,190))}))),Rt=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,191))})),qt=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,192))}));function _t(){var t=Object(I.c)(),e=Object(I.d)(F.getIsLoading);return Object(c.useEffect)((function(){t(i.b.getCurrentUser())}),[t]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(it,{}),Object(J.jsxs)(ht,{children:[Object(J.jsx)(c.Suspense,{fallback:Object(J.jsx)(Et,{}),children:Object(J.jsxs)(s.d,{children:[Object(J.jsx)(s.b,{exact:!0,path:"/",children:Object(J.jsx)(s.a,{to:T.login})}),Object(J.jsx)(jt,{path:T.contacts,component:yt,redirectTo:T.login}),Object(J.jsx)(lt,{path:T.login,restricted:!0,redirectTo:T.contacts,component:Rt}),Object(J.jsx)(lt,{path:T.register,restricted:!0,redirectTo:T.contacts,component:qt})]})}),Object(J.jsx)(M.a,{position:"top-center",autoClose:3e3,newestOnTop:!0,limit:3,transition:M.b})]}),e&&Object(J.jsx)(Et,{})]})}n(120),n(121);var wt=n(45),Nt=n(27),Ut=n(78),Lt=n.n(Ut),At=Object(wt.a)(Object(j.d)({serializableCheck:{ignoredActions:[Nt.a,Nt.f,Nt.b,Nt.c,Nt.d,Nt.e]}})),Ft={key:"token",storage:Lt.a,whitelist:["token"]},It=Object(j.a)({reducer:{contacts:l.c,auth:Object(Nt.g)(Ft,i.c),loading:A},middleware:At,devTools:!1}),Tt={store:It,persistor:Object(Nt.h)(It)},Mt=n(79);n(124);u.a.render(Object(J.jsx)(a.a.StrictMode,{children:Object(J.jsx)(I.a,{store:Tt.store,children:Object(J.jsx)(Mt.a,{loading:null,persistor:Tt.persistor,children:Object(J.jsx)(P.a,{children:Object(J.jsx)(_t,{})})})})}),document.getElementById("root"))},20:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return q})),n.d(e,"c",(function(){return J})),n.d(e,"d",(function(){return D}));var r,c,a,o=n(4),u=Object(o.b)("contacts/fetchContactsRequest"),s=Object(o.b)("contacts/fetchContactsSuccess"),i=Object(o.b)("contacts/fetchContactsError"),b=Object(o.b)("contacts/addContactRequest"),j=Object(o.b)("contacts/addContactSuccess"),l=Object(o.b)("contacts/addContactError"),d=Object(o.b)("contacts/deleteContactRequest"),O=Object(o.b)("contacts/deleteContactSuccess"),f=Object(o.b)("contacts/deleteContactError"),h={changeFilter:Object(o.b)("contacts/changeFilter"),resetFilter:Object(o.b)("contscts/resetFilter"),fetchContactsRequest:u,fetchContactsSuccess:s,fetchContactsError:i,addContactRequest:b,addContactSuccess:j,addContactError:l,deleteContactRequest:d,deleteContactSuccess:O,deleteContactError:f},g=n(21),p=n.n(g),x=h.fetchContactsRequest,C=h.fetchContactsSuccess,v=h.fetchContactsError,m=h.addContactRequest,S=h.addContactSuccess,k=h.addContactError,E=h.deleteContactRequest,y=h.deleteContactSuccess,R=h.deleteContactError,q={addContact:function(t){return function(e){e(m()),p.a.post("/contacts",t).then((function(t){var n=t.data;return e(S(n))})).catch((function(t){return e(k(t.message))}))}},deleteContact:function(t){return function(e){e(E()),p.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(R(t.message))}))}},fetchContacts:function(){return function(t){t(x()),p.a.get("/contacts").then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(v(e.message))}))}}},_=n(3),w=n(45),N=n(12),U=h.fetchContactsSuccess,L=h.fetchContactsError,A=h.addContactSuccess,F=h.addContactError,I=h.deleteContactSuccess,T=h.deleteContactError,M=h.changeFilter,z=h.resetFilter,P=Object(o.c)([],(r={},Object(_.a)(r,U,(function(t,e){return e.payload})),Object(_.a)(r,A,(function(t,e){return[e.payload].concat(Object(w.a)(t))})),Object(_.a)(r,I,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),B=Object(o.c)("",(c={},Object(_.a)(c,M,(function(t,e){return e.payload})),Object(_.a)(c,z,(function(){return""})),c)),W=Object(o.c)(null,(a={},Object(_.a)(a,L,(function(t,e){return e.payload})),Object(_.a)(a,F,(function(t,e){return e.payload})),Object(_.a)(a,T,(function(t,e){return e.payload})),a)),J=Object(N.c)({items:P,filter:B,error:W}),K=n(41),Q=function(t){return t.contacts.items},Z=function(t){return t.contacts.filter},D={getItems:Q,getFilter:Z,filteredItems:Object(K.a)([Z,Q],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))}))}},47:function(t,e,n){t.exports={userMenu:"UserMenu_userMenu__Nugdw",name:"UserMenu_name__aL8U3"}},54:function(t,e,n){t.exports={navLink:"MyNavLink_navLink__SsZod",activeNavLink:"MyNavLink_activeNavLink__3nk4x"}},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return Y})),n.d(e,"d",(function(){return $}));var r=n(4),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),b={registerRequest:c,registerSuccess:a,registerError:o,logoutRequest:Object(r.b)("auth/logoutRequest"),logoutSuccess:Object(r.b)("auth/logoutSuccess"),logoutError:Object(r.b)("auth/logoutError"),loginRequest:u,loginSuccess:s,loginError:i,getCurrentUserRequest:Object(r.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(r.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(r.b)("auth/getCurrentUserError")},j=n(26),l=n.n(j),d=n(38),O=n(21),f=n.n(O),h=n(33),g=function(t){return h.c.error(t)},p=b.registerRequest,x=b.registerSuccess,C=b.registerError,v=b.logoutRequest,m=b.logoutSuccess,S=b.logoutError,k=b.loginRequest,E=b.loginSuccess,y=b.loginError,R=b.getCurrentUserRequest,q=b.getCurrentUserSuccess,_=b.getCurrentUserError;f.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var w,N,U,L,A=function(t){f.a.defaults.headers.common.Authorization="Bearer ".concat(t)},F=function(){f.a.defaults.headers.common.Authorization=""},I={register:function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p()),e.prev=1,e.next=4,f.a.post("/users/signup",t);case 4:r=e.sent,c=r.data,A(c.token),n(x(c)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),g("Wrong email or password"),n(C(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},login:function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k()),e.prev=1,e.next=4,f.a.post("/users/login",t);case 4:r=e.sent,c=r.data,A(c.token),n(E(c)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),g("Wrong email or password"),n(y(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var t=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(v()),t.prev=1,t.next=4,f.a.post("/users/logout");case 4:F(),e(m()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(S(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(d.a)(l.a.mark((function t(e,n){var r,c,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),c=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return A(c),e(R()),t.prev=5,t.next=8,f.a.get("/users/current");case 8:a=t.sent,o=a.data,e(q(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(_(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},T=n(3),M=n(12),z=b.registerSuccess,P=b.registerError,B=b.logoutSuccess,W=b.logoutError,J=b.loginSuccess,K=b.loginError,Q=b.getCurrentUserSuccess,Z=b.getCurrentUserError,D={name:null,email:null},G=Object(r.c)(D,(w={},Object(T.a)(w,z,(function(t,e){return e.payload.user})),Object(T.a)(w,J,(function(t,e){return e.payload.user})),Object(T.a)(w,B,(function(){return D})),Object(T.a)(w,Q,(function(t,e){return e.payload})),w)),H=Object(r.c)(null,(N={},Object(T.a)(N,z,(function(t,e){return e.payload.token})),Object(T.a)(N,J,(function(t,e){return e.payload.token})),Object(T.a)(N,B,(function(){return null})),N)),V=Object(r.c)(null,(U={},Object(T.a)(U,P,(function(t,e){return e.payload})),Object(T.a)(U,K,(function(t,e){return e.payload})),Object(T.a)(U,W,(function(t,e){return e.payload})),Object(T.a)(U,Z,(function(t,e){return e.payload})),U)),X=Object(r.c)(!1,(L={},Object(T.a)(L,z,(function(){return!0})),Object(T.a)(L,J,(function(){return!0})),Object(T.a)(L,Q,(function(){return!0})),Object(T.a)(L,P,(function(){return!1})),Object(T.a)(L,K,(function(){return!1})),Object(T.a)(L,Z,(function(){return!1})),Object(T.a)(L,B,(function(){return!1})),L)),Y=Object(M.c)({user:G,token:H,error:V,isAuthenticated:X}),$={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name}}},72:function(t,e,n){t.exports={btn:"Navigation_btn__sBgFS"}},73:function(t,e,n){t.exports={authNav:"AuthNav_authNav__17i3R"}},74:function(t,e,n){t.exports={container:"Container_container__3QdxC"}},76:function(t,e,n){t.exports={Overlay:"Modal_Overlay__2T10K"}}},[[125,2,3]]]);
//# sourceMappingURL=main.6eec1a5d.chunk.js.map